# Jarvis 系统迁移与部署指南

本指南将帮助您将 Jarvis 系统完整迁移到新电脑，或部署给新用户。系统包含自动化安装脚本，可一键完成环境配置。

## 📦 部署包内容
- **核心程序**: Jarvis v1.5 (内阁秘书 + 桌面 HUD)
- **自动化脚本**: `setup.bat` (一键安装)
- **依赖管理**: Python 环境自动配置
- **目录结构**: 自动生成标准文件柜 (`Inbox`, `01_Drafts`, `02_Briefings`)

---

## 🚀 第一步：电脑端一键部署

### 1. 准备工作
- 确保新电脑已联网。
- 将本文件夹完整复制到新电脑（建议放在 `D:\` 或 `C:\` 根目录，例如 `D:\Jarvis_Installer`）。

### 2. 运行安装
1. 双击运行 **`deployment/setup.bat`**。
2. 脚本将自动执行以下操作：
   - 检查并安装 Python (如果未安装)。
   - 创建系统文件夹结构 (`D:\My_System` 或您指定的其他位置)。
   - 配置 Python 虚拟环境并安装依赖库。
   - 更新配置文件中的路径。
   - 在桌面创建启动快捷方式。
3. **注意**: 安装过程中如果弹出“用户账户控制”或“PowerShell 策略”提示，请选择“是”或“允许”。

### 3. 验证安装
- 安装完成后，桌面上会出现 **`Jarvis HUD`** 图标。
- 双击图标，如果屏幕右侧出现悬浮条，说明核心系统部署成功。

---

## 📱 第二步：手机端同步配置 (关键)

Jarvis 依赖 **微力同步 (VerySync)** 或 **Syncthing** 来连接手机与电脑。

### 1. 电脑端设置
1. 安装微力同步: [下载地址](http://www.verysync.com/) (脚本也会提示安装)。
2. 打开微力同步，点击“新建同步文件夹”。
3. **目录路径**选择安装脚本创建的 **`Inbox`** 文件夹 (例如 `D:\My_System\Inbox`)。
4. 记下该文件夹的 **读写密钥** 或 **二维码**。

### 2. 手机端设置
1. 在手机下载“微力同步” App。
2. 点击右上角 `+` 号，选择“输入密钥或扫描二维码”。
3. 扫描电脑端的二维码。
4. **连接成功后**:
   - 以后您在手机上看到好文章、图片或录音，直接“分享”到微力同步的这个文件夹。
   - Jarvis 会自动在电脑端接收并处理。

---

## 📝 第三步：Obsidian 知识库 (可选)

为了获得最佳的阅读体验，建议安装 Obsidian。

1. 脚本会自动尝试通过 `winget` 安装 Obsidian。如果失败，请手动下载: [Obsidian 官网](https://obsidian.md/)。
2. 打开 Obsidian，选择“打开仓库 (Open Folder as Vault)”。
3. 选择系统根目录 (例如 `D:\My_System`)。
4. 现在您可以以知识图谱的方式查看您的简报和草稿了。

---

## 🛠️ 常见问题排查

**Q: 脚本提示 "Python not found"?**
A: 脚本会尝试自动安装。如果失败，请手动下载 Python 3.10+ 并勾选 "Add to PATH"。

**Q: 手机文件传过来了，但没反应？**
A: 检查 Jarvis HUD 是否开启（右侧悬浮条）。只有 Jarvis 运行时才会处理文件。

**Q: 简报生成失败？**
A: 检查 `config/settings.yaml` 中的 `aliyun_api_key` 是否正确配置。

---
**技术支持**: 请联系系统管理员或查阅 `project_context.md` 获取架构细节。
